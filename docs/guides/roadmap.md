# 開発ロードマップと優先タスク

直近で実施した改善と、今後のTODOをまとめたメモです。GitHub Projects や Issues を整備する際の叩き台として利用してください。

---

## 1. 完了済みの主要改善
- 環境変数の検証ロジックを追加 (`validate_required_env`)
- 統一的なエラーハンドリング (`error_handler.py`)
- 全ファイルへ型ヒントを付与し、mypy 対応を強化
- `DatabaseManager` による接続プールの一元管理
- pytest ベースのテストスイートと GitHub Actions (CI/Tests)
- 構造化ログ・ファイル出力 (`logger_config.py`)

---

## 2. 優先度高（すぐに着手すると効果が大きい）
1. **ドキュメント整備の継続**
   - README の最新化、図やスクリーンショットの追加
   - `.env.example` や `docs/guides/` の内容チェック
2. **CI の拡張**
   - Lint ワークフロー（ruff/flake8/mypy）を本格運用
   - テスト結果を PR コメントに投稿する仕組み
3. **セキュリティ監査**
   - 入力バリデーションの網羅性確認
   - SQL クエリのパラメータ化を lint で強制

---

## 3. 優先度中（近い将来に取り組む）
- **ロギングの拡張**: JSON 構造化ログ + エラー通知（Discord Webhook 等）
- **パフォーマンス改善**: クエリ最適化、キャッシュ導入、接続プールサイズ調整
- **統合テスト/E2E**: Discord API モックや Playwright を用いた動作確認

---

## 4. 優先度低（長期的な改善アイデア）
- メトリクス収集とダッシュボード化
- 詳細なアーキテクチャ図や API ドキュメント作成
- 負荷試験・パフォーマンステスト

---

## 5. 推奨される進め方
1. ドキュメント/README のアップデート
2. CI/Lint の自動化
3. セキュリティチェックリストの運用

上記 3 点を押さえると、プロジェクトの基盤が安定し、以降の改善が進めやすくなります。
