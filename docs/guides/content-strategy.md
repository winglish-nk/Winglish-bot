# コンテンツ戦略とユーザー体験設計

> ユーザーが何を求めているか、Discordでどういうコンテンツを用意してどうすべきかを考える設計ドキュメント

---

## 📊 現状分析

### 現在の機能

#### 1. 英単語学習 (`vocab.py`)
- **機能**:
  - 10問テスト
  - 前々回テスト（復習）
  - 苦手テスト
  - SRS（Spaced Repetition System）による記憶定着
- **学習フロー**:
  1. ユーザーがボタンをクリック
  2. 問題が出題（英語→日本語）
  3. ユーザーが回答（選択肢またはタイプ）
  4. 即座にフィードバック
  5. 次へ進む or 終了

#### 2. 英文解釈（SVOCM）(`svocm.py`)
- **機能**:
  - 文型別学習（S, V, O, C, M）
  - ランダム問題
  - モーダル入力による回答
- **学習フロー**:
  1. 英文が表示される
  2. ユーザーがSVOCMに分解して入力
  3. Dify APIで採点（現在は未設定）
  4. フィードバック表示

#### 3. 長文読解 (`reading.py`)
- **機能**:
  - TOEIC形式の問題生成
  - 2問の多肢選択問題
  - Dify APIによる問題生成と採点
- **学習フロー**:
  1. パッセージ（長文）が表示
  2. 質問1が表示（A/B/C/D選択）
  3. 質問2が表示
  4. 解説とフィードバック表示

---

## 👥 ユーザーペルソナ

### 主要ターゲット
- **年齢**: 高校生〜大学生（16-22歳）
- **目的**: 大学受験英語、TOEIC対策
- **学習スタイル**: 
  - インプット型学習に飽きた
  - ゲーム感覚で楽しく学びたい
  - 短時間で効率的に学びたい
  - Discordを日常的に使っている

### ユーザーの課題とニーズ

#### 課題
1. **モチベーション維持が難しい**
   - 単調な暗記作業に飽きる
   - 一人での学習が続かない

2. **学習の継続性**
   - 毎日コツコツやる習慣がない
   - 忘れやすい（エビングハウスの忘却曲線）

3. **理解度の可視化**
   - 自分のレベルが分からない
   - どこが苦手か把握できていない

4. **実践的な学習機会の不足**
   - アウトプット練習が少ない
   - 実際に使える英語力が身につかない

#### ニーズ
1. **ゲーミフィケーション**
   - 達成感を得たい
   - ランキングやレベルシステム
   - バッジや称号システム

2. **コミュニティ機能**
   - 他の学習者と交流したい
   - 競い合いたい
   - 質問や相談がしたい

3. **パーソナライズ**
   - 自分のレベルに合わせた問題
   - 苦手分野の自動抽出
   - 学習履歴の可視化

4. **即座のフィードバック**
   - 答え合わせがすぐにできる
   - なぜ間違えたか分かりたい
   - 解説が欲しい

---

## 🎯 コンテンツ設計の方向性

### 原則
1. **学習者が主体**
   - ユーザーが自分のペースで学べる
   - 強制的ではなく、自発的に取り組める

2. **短時間で完結**
   - 1セッション10-15分程度
   - Discordの気軽さを活かす

3. **継続しやすさ**
   - 毎日やる習慣がつけられる
   - ストリーク（連続学習日数）機能

4. **即座のフィードバック**
   - 答え合わせは即座に
   - 解説は分かりやすく

---

## 💡 改善案と新機能

### 優先度高：即座に実装できる改善

#### 1. 学習進捗の可視化
- **現在**: 学習履歴はDBに保存されているが、ユーザーが見られない
- **改善案**:
  - `/stats` コマンドで学習状況を表示
    - 今日の学習時間・問題数
    - 連続学習日数（ストリーク）
    - 正答率の推移
    - 苦手単語・文型のリスト

#### 2. 達成感の演出
- **現在**: 単調に問題が続くだけ
- **改善案**:
  - レベルシステム
    - 経験値（EXP）を獲得
    - レベルアップ通知
  - バッジシステム
    - 「10問連続正解」「7日連続学習」など
  - モチベーションメッセージ
    - 「今日も頑張ってますね！🔥」

#### 3. フィードバックの充実
- **英単語**:
  - 間違えた単語を自動的に「苦手リスト」に追加
  - 似た意味の単語を一緒に表示（学習の連鎖）
- **SVOCM**:
  - 正解例と自分の回答を比較表示
  - 文型の説明を追加
- **長文読解**:
  - 単語の解説を追加（重要語句をピックアップ）
  - 文章の構造説明

### 優先度中：中期的に実装したい機能

#### 4. コミュニティ機能
- **ランキング**
  - 週間/月間の学習時間ランキング
  - 正答率ランキング
  - （オプトインで表示）
- **学習グループ**
  - 友達と学習目標を設定
  - 一緒に頑張れる仲間を探す

#### 5. パーソナライズ
- **適応的学習**
  - 苦手分野を自動検出
  - 頻出度の高い問題を優先
  - ユーザーのレベルに合わせた難易度調整
- **学習リマインド**
  - 毎日の学習時間にDiscord通知
  - 「もう1時間経ちました。休憩しませんか？」

#### 6. ゲーミフィケーション強化
- **デイリーチャレンジ**
  - 毎日異なるチャレンジ（例：「今日はSVOCMを5問正解しよう」）
  - クリアすると特別報酬
- **アチーブメント**
  - 「100問正解達成」「30日連続学習」など
  - タイトルやカスタムエンブレムを獲得

### 優先度低：将来的に検討したい機能

#### 7. AI チューター機能
- **質問対応**
  - 「この文型の見分け方を教えて」
  - 「この単語の使い方を説明して」
- **学習アドバイス**
  - 「最近SVOCMの正答率が下がっています。復習を勧めます」

#### 8. 音声学習
- **発音練習**
  - 単語や文の音声を再生
  - ユーザーが発音して評価（将来的に）

#### 9. コンテンツ拡充
- **過去問対応**
  - 大学入試の過去問データベース
  - TOEIC公式問題集
- **テーマ別学習**
  - 「ビジネス英語」「科学英語」など

---

## 🔄 学習フローの改善案

### 現在のフロー
```
メニュー表示 → 機能選択 → 問題出題 → 回答 → フィードバック → 繰り返し
```

### 改善後のフロー（提案）

#### 1. オンボーディング強化
```
初回利用時:
  → レベル診断（簡単なテスト）
  → 学習目標の設定（「毎日10分」「TOEIC600点」など）
  → 使い方ガイド（5分程度のチュートリアル）
```

#### 2. 学習セッションの構造化
```
開始:
  → 今日の学習目標を表示（例：「10問正解しよう」）
  → 前回の学習状況を振り返り（例：「前回は8問正解でした」）

学習中:
  → 進捗バーを表示（「3/10問完了」）
  → モチベーションメッセージ（「順調です！」）

終了時:
  → 結果サマリー（正答率、かかった時間、新しく覚えた単語数）
  → 次回の学習推奨（例：「苦手な単語を5個復習しませんか？」）
  → ストリーク更新（「7日連続学習中！🔥」）
```

---

## 📝 実装優先度マトリクス

| 機能 | ユーザー価値 | 実装難易度 | 優先度 |
|------|------------|----------|--------|
| 学習進捗の可視化（/stats） | ⭐⭐⭐⭐⭐ | ⭐⭐ | 🔴 高 |
| ストリーク（連続学習日数） | ⭐⭐⭐⭐ | ⭐⭐ | 🔴 高 |
| レベルシステム（EXP） | ⭐⭐⭐⭐ | ⭐⭐⭐ | 🔴 高 |
| フィードバック充実 | ⭐⭐⭐⭐⭐ | ⭐⭐ | 🔴 高 |
| ランキング | ⭐⭐⭐ | ⭐⭐⭐⭐ | 🟡 中 |
| 適応的学習 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 🟡 中 |
| AIチューター | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 🟢 低 |

---

## 🎨 UX改善のポイント

### 1. メッセージデザイン
- **現在**: シンプルなEmbed表示
- **改善案**:
  - カラフルなEmbed（正解=緑、不正解=赤）
  - 絵文字の活用（🎯 🏆 🔥 ✅ ❌）
  - アニメーション感のある表示（「✨ 正解！✨」）

### 2. インタラクション設計
- **現在**: ボタンクリック中心
- **改善案**:
  - モーダルを使った入力（既存）
  - 選択肢の視覚的改善
  - タイムアウト時の優しいメッセージ

### 3. エラー処理
- **現在**: 技術的なエラーメッセージ
- **改善案**:
  - ユーザーフレンドリーな説明
  - リトライ案内
  - サポートへのリンク

---

## 🤔 検討事項

### 1. コミュニティ vs プライバシー
- ランキングや学習状況の公開はオプトインにするか？
- デフォルトは非公開で、希望者のみ公開？

### 2. 課金モデル
- 現在は無料？
- 将来的にプレミアム機能（AIチューター、過去問など）は有料？

### 3. データ保持
- 学習履歴はどのくらい保持するか？
- 削除機能は必要か？

### 4. 多言語対応
- 現在は日本語のみ
- 将来的に英語版も？

---

## 📊 成功指標（KPI）

### ユーザーエンゲージメント
- 1日のアクティブユーザー数（DAU）
- 1週間のアクティブユーザー数（WAU）
- 平均セッション時間
- 1セッションあたりの問題数

### 学習効果
- 正答率の推移
- 学習継続率（7日後、30日後）
- ストリーク継続日数の平均
- 苦手単語の減少率

### コンテンツ利用率
- 各機能（英単語/SVOCM/長文）の利用率
- 機能別の平均学習時間
- 新規コンテンツの受容度

---

## 🚀 次のアクション

### 即座に実装できる（1-2週間）
1. ✅ `/stats` コマンドの実装
2. ✅ ストリーク（連続学習日数）機能
3. ✅ 学習終了時のサマリー表示
4. ✅ モチベーションメッセージの追加

### 中期的に実装（1-2ヶ月）
5. レベルシステム（EXP）
6. バッジ・アチーブメントシステム
7. フィードバックの充実
8. ランキング機能（オプトイン）

### 長期的に検討（3ヶ月以降）
9. AIチューター機能
10. コミュニティ機能の拡充
11. コンテンツの拡充

---

## 💬 ユーザーフィードバックの収集方法

### 1. Discord内でのアンケート
- `/feedback` コマンドで意見を収集
- 定期的に「改善アンケート」を実施

### 2. ログ分析
- どの機能がよく使われているか
- どこで離脱しているか
- エラーが頻発している箇所

### 3. ユーザーインタビュー
- 積極的なユーザーに直接聞く
- 改善アイデアを募集

---

## 📚 参考資料

- [ゲーミフィケーションの原則](https://ja.wikipedia.org/wiki/%E3%82%B2%E3%83%BC%E3%83%9F%E3%83%95%E3%82%A3%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3)
- [SRS（間隔反復）システム](https://en.wikipedia.org/wiki/Spaced_repetition)
- [Discord Bot Best Practices](https://discord.com/developers/docs/topics/community-resources)

---

## 📝 更新履歴

- 2025-11-24: 初版作成

---

**次のステップ**: このドキュメントを基に、具体的な機能設計に進みましょう。どの機能から実装を始めますか？
